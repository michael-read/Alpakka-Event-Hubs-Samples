app {
  batched-producer-time-window-seconds = 3
  number-of-partitions = 3
}

eventhubs-client {
  eventhub {
    hub-name = ${EVENT_HUBS_HUB_NAME}
  }

  producer {
    namespace = ${EVENT_HUBS_NAMESPACE}
    hub-name = ${eventhubs-client.eventhub.hub-name}
    clientId = ${SERVICE_PRINCIPAL_CLIENT_ID}
    clientSecret = ${SERVICE_PRINCIPAL_CLIENT_SECRET}
    tenantId = ${SERVICE_PRINCIPAL_TENANT_ID}
  }

  consumer {
    consumer-group = ${EVENT_HUBS_CONSUMER_GROUP}
    namespace = ${EVENT_HUBS_NAMESPACE}
    hub-name = ${eventhubs-client.eventhub.hub-name}
    clientId = ${SERVICE_PRINCIPAL_CLIENT_ID}
    clientSecret = ${SERVICE_PRINCIPAL_CLIENT_SECRET}
    tenantId = ${SERVICE_PRINCIPAL_TENANT_ID}

    batch-size = 1000
    batch-interval = 1s
    buffer-size = 10000
    consumer-id = "sample-consumer-id"

    fallback-position = earliest
    load-balancing-strategy = balanced
  }

  blob-storage {
    container-url = ${?CHECKPOINT_STORE_CONTAINER_URL}
    clientId = ${SERVICE_PRINCIPAL_CLIENT_ID}
    clientSecret = ${SERVICE_PRINCIPAL_CLIENT_SECRET}
    tenantId = ${SERVICE_PRINCIPAL_TENANT_ID}
  }

}